define(["../utils/constants","../utils/data","../utils/form","underscore","bootstrap"],function(t,e,n){"use strict";return function(){function i(){var t=_.template($("#table-html").html())({data:e.get()});$("#container").html(t),0!==e.get().length?$("table").removeClass("hide"):$("table").addClass("hide")}function o(){var t={};n.validate(".form",function(o){o||(t={id:$("#enterprise-id").val(),name:$("#enterprise-name").val()},e.add(t),i(),n.clean(".form"))})}function a(t){e.remove($(t.currentTarget).data("id")),i()}function c(){$("#btn-submit").off("click").on("click",o),$("#container .btn-delete").off("click").on("click",a),$("#container").off().on("DOMNodeInserted DOMNodeRemoved",c)}function r(){c(),i()}return{init:function(){$(t.sections.id.main).load(t.sections.templates.resources.main,r)}}}()});