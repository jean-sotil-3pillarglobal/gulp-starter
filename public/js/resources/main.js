define(["../utils/constants","../utils/data","../utils/form","underscore","bootstrap"],function(t,e,n){"use strict";return function(){function i(){var t=_.template($("#table-html").html())({data:e.get()}),n=$("table");l.html(t),0!==e.get().length?n.removeClass("hide"):n.addClass("hide")}function o(){var t={};n.validate(".form",function(o){o||(t={id:$("#enterprise-id").val(),name:$("#enterprise-name").val()},e.add(t),i(),n.clean(".form"))})}function a(t){e.remove($(t.currentTarget).data("id")),i()}function r(){$("#btn-submit").off("click").on("click",o),l.find(".btn-delete").off("click").on("click",a),l.off().on("DOMNodeInserted DOMNodeRemoved",r)}function c(){l=$("#container"),r(),i()}var l=null;return{init:function(){$(t.sections.id.main).load(t.sections.templates.resources.main,c)}}}()});